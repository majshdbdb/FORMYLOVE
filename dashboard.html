async function checkAuth() {
            const { data: { user } } = await window.supabase.auth.getUser();
            
            if (user) {
                document.getElementById('userEmail').textContent = user.email;
                document.getElementById('userId').textContent = user.id.substring(0, 8) + '...';
                document.getElementById('userInfo').style.display = 'block';
                document.getElementById('loginPrompt').style.display = 'none';
            } else {
                document.getElementById('userInfo').style.display = 'none';
                document.getElementById('loginPrompt').style.display = 'block';
            }
        }

        // Logout function
        async function logout() {
            const button = document.querySelector('.logout');
            button.textContent = 'Logging out...';
            button.disabled = true;
            
            await window.supabase.auth.signOut();
            window.location.href = 'login.html';
        }

        // Check auth on page load
        checkAuth();
    </script>
</body>
</html>
